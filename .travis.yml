env:
  global:
  - DOMAIN: "doc.pdnsadmin.com"
  - GIT_NAME: "Auto Deploy"
  - GIT_EMAIL: "admin@pdnsadmin.com"

language: python

install:
- pip install mkdocs
- pip install MarkdownHighlight

script:
- mkdocs build --verbose --clean --strict

deploy:
 provider: pages
 fqdn: "${DOMAIN}"
 email: "${GIT_EMAIL}"
 name: "${GIT_NAME}"
 skip_cleanup: true
 github_token: $GITHUB_TOKEN # Set in travis-ci.org dashboard
 local_dir: site
 on:
   branch: master
